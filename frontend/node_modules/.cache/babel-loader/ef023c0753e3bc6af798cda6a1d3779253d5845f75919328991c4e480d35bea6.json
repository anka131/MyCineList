{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nexport function useMovies(query, callback) {\n  _s();\n  const [movies, setMovies] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n  const KEY = \"63ec1dc6\";\n  useEffect(function () {\n    const controler = new AbortController();\n    async function fetchMovies() {\n      try {\n        setIsLoading(true);\n        setError(\"\");\n        const res = await fetch(`https://www.omdbapi.com/?apikey=${KEY}&s=${query}`, {\n          signal: controler.signal\n        });\n        if (!res.ok) throw new Error(\"Something went wrong with fetching movies\");\n        const data = await res.json();\n        if (data.Response === \"False\") throw new Error(\"Movie not found\");\n        setMovies(data.Search);\n        setError(\"\");\n      } catch (err) {\n        console.log(err.message);\n        if (err.name !== \"AbortError\") setError(err.message);\n      } finally {\n        setIsLoading(false);\n      }\n    }\n    if (query.length < 3) {\n      setMovies([]);\n      setError(\"\");\n      return;\n    }\n    fetchMovies();\n    return function () {\n      controler.abort();\n    };\n  }, [query]);\n  return {\n    movies,\n    isLoading,\n    error\n  };\n}\n_s(useMovies, \"U+znDQTK7eje4cwlxt5gS2qHcHc=\");","map":{"version":3,"names":["useState","useEffect","useMovies","query","callback","_s","movies","setMovies","isLoading","setIsLoading","error","setError","KEY","controler","AbortController","fetchMovies","res","fetch","signal","ok","Error","data","json","Response","Search","err","console","log","message","name","length","abort"],"sources":["C:/Users/aleee/OneDrive/Desktop/Projects/MyCineList/src/utils/useMovies.js"],"sourcesContent":["import {useState, useEffect} from 'react';\r\nexport function useMovies(query, callback){\r\n \r\n      const [movies, setMovies] = useState([]);\r\n      const [isLoading, setIsLoading] = useState(false);\r\n      const [error, setError] = useState(\"\");\r\n      const KEY = \"63ec1dc6\"; \r\n\r\n    \r\n      useEffect(function(){\r\n    const controler = new AbortController();\r\n    \r\n    async function fetchMovies() {  \r\n      try{\r\n        setIsLoading(true);\r\n        setError(\"\");\r\n     const res =  await fetch(`https://www.omdbapi.com/?apikey=${KEY}&s=${query}`, {signal: controler.signal});\r\n     if(!res.ok) throw new Error(\"Something went wrong with fetching movies\");\r\n    \r\n     const data = await res.json();\r\n     if(data.Response === \"False\")throw new Error(\"Movie not found\");\r\n     setMovies(data.Search);\r\n     setError(\"\");\r\n    }catch(err){\r\n      console.log(err.message);\r\n      if(err.name !== \"AbortError\") setError(err.message);\r\n    }finally{\r\n      setIsLoading(false);\r\n    }\r\n    }\r\n    if(query.length < 3){\r\n      setMovies([]);\r\n      setError(\"\");\r\n      return; \r\n    }\r\n    fetchMovies();\r\n    \r\n    return function(){\r\n      controler.abort();\r\n    }\r\n      }, [query]);\r\n      return {movies, isLoading, error};\r\n}"],"mappings":";AAAA,SAAQA,QAAQ,EAAEC,SAAS,QAAO,OAAO;AACzC,OAAO,SAASC,SAASA,CAACC,KAAK,EAAEC,QAAQ,EAAC;EAAAC,EAAA;EAEpC,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGP,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAM,CAACQ,SAAS,EAAEC,YAAY,CAAC,GAAGT,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM,CAACU,KAAK,EAAEC,QAAQ,CAAC,GAAGX,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAMY,GAAG,GAAG,UAAU;EAGtBX,SAAS,CAAC,YAAU;IACtB,MAAMY,SAAS,GAAG,IAAIC,eAAe,CAAC,CAAC;IAEvC,eAAeC,WAAWA,CAAA,EAAG;MAC3B,IAAG;QACDN,YAAY,CAAC,IAAI,CAAC;QAClBE,QAAQ,CAAC,EAAE,CAAC;QACf,MAAMK,GAAG,GAAI,MAAMC,KAAK,CAAC,mCAAmCL,GAAG,MAAMT,KAAK,EAAE,EAAE;UAACe,MAAM,EAAEL,SAAS,CAACK;QAAM,CAAC,CAAC;QACzG,IAAG,CAACF,GAAG,CAACG,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,2CAA2C,CAAC;QAExE,MAAMC,IAAI,GAAG,MAAML,GAAG,CAACM,IAAI,CAAC,CAAC;QAC7B,IAAGD,IAAI,CAACE,QAAQ,KAAK,OAAO,EAAC,MAAM,IAAIH,KAAK,CAAC,iBAAiB,CAAC;QAC/Db,SAAS,CAACc,IAAI,CAACG,MAAM,CAAC;QACtBb,QAAQ,CAAC,EAAE,CAAC;MACb,CAAC,QAAMc,GAAG,EAAC;QACTC,OAAO,CAACC,GAAG,CAACF,GAAG,CAACG,OAAO,CAAC;QACxB,IAAGH,GAAG,CAACI,IAAI,KAAK,YAAY,EAAElB,QAAQ,CAACc,GAAG,CAACG,OAAO,CAAC;MACrD,CAAC,SAAO;QACNnB,YAAY,CAAC,KAAK,CAAC;MACrB;IACA;IACA,IAAGN,KAAK,CAAC2B,MAAM,GAAG,CAAC,EAAC;MAClBvB,SAAS,CAAC,EAAE,CAAC;MACbI,QAAQ,CAAC,EAAE,CAAC;MACZ;IACF;IACAI,WAAW,CAAC,CAAC;IAEb,OAAO,YAAU;MACfF,SAAS,CAACkB,KAAK,CAAC,CAAC;IACnB,CAAC;EACC,CAAC,EAAE,CAAC5B,KAAK,CAAC,CAAC;EACX,OAAO;IAACG,MAAM;IAAEE,SAAS;IAAEE;EAAK,CAAC;AACvC;AAACL,EAAA,CAzCeH,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}